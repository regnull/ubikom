syntax = "proto3";
package Ubikom;
option go_package=".;pb";

enum ResultCode {
    OK = 0;
    INVALID_REQUEST = 1;
    INVALID_KEY = 2;
    KEY_EXISTS = 3;
    INSUFFICIENT_POW = 4;
    INTERNAL_ERROR = 100;
}

message KeyRegistrationRequest {
    bytes key = 1;
    bytes pow = 2;
}

message KeyRegistrationResponse {
    ResultCode result = 1;
    string message = 2;
}

service IdentityService {
    rpc RegisterKey(KeyRegistrationRequest) returns (KeyRegistrationResponse);
}